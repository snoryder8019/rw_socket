<!--CONTROL THE LOOPED LAYOUT HERE-->
<%- include('../layouts/sections/original', {webappSettings:webappSettings})%>

<!--HARDCODED FOR EXPERIMENTALS-->
<div class="auth_view_true" style="background-image: url('./images/hugeIcon.png');">
  <div class="index-container">
    <h1>The Parlor</h1>
    <div><p>Set up your parlor space below.</p></div>

    <div class="container-scrollbox-x">
      <%- include('../videoChannels/userStream') %>
      <%- include('../videoChannels/channel_1') %>
    </div>

    <div class="marquee">
      <span id="marquee-text"></span>
    </div>
  </div>
</div>


<!--INDEX LEVEL STATIC SCRIPTS-->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.auth_view_true').forEach(div => {
      div.addEventListener('click', function () {
        if (!this.classList.contains('expanded')) {
          this.classList.add('expanded');
          let closeButton = this.querySelector('.close-button');
          if (!closeButton) {
            closeButton = document.createElement('button');
            closeButton.className = 'close-button';
            closeButton.innerHTML = 'X';
            this.appendChild(closeButton);
          }
          closeButton.style.display = 'block'; // Ensure the close button is visible
          
          closeButton.addEventListener('click', function (e) {
            e.stopPropagation(); // Prevent click from propagating to the div
            this.parentNode.classList.remove('expanded');
            this.style.display = 'none'; // Hide button after collapsing
          });
        }
      });
    });
  });
  

  //controls header with a scroll listener
  window.onload = () => {
    const scrollContainerX = document.querySelector('.container-scrollbox-x');
    if (scrollContainerX) {
      scrollContainerX.scrollLeft = (scrollContainerX.scrollWidth - scrollContainerX.clientWidth) / 2;
    }
  };
</script>
<%- include('../layouts/games/socketScripts.ejs')%>
