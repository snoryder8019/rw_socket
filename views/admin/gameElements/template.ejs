<div class="adminWindow">
    <div class="adminStatsRow">
      <% documents.forEach(gameElement => { %>
        <div class="adminStat">
          <!-- Display Game Element Name -->
          <p><%= gameElement.elementName %></p>
  
          <!-- Display Game Element Image -->
          <img alt="Game Element Image" src="<%= gameElement.elementImage %>" width="100" height="100">
  
          <!-- Button to View/Edit Game Element Details -->
          <button class="collapsible">View/Edit: <span class="carrot">&#9654;</span></button>
          <div class="content" data-url="/games/gameElements/renderEditForm/<%= gameElement._id %>"></div>
          
          <!-- Section to Upload Multiple Images for Slides -->
          <h3>Add Multiple Images to Slides</h3>
          <form action="/games/gameElements/<%= gameElement._id %>/upload-images" method="post" enctype="multipart/form-data">
            <input type="file" name="images" multiple>
            <button type="submit">Upload</button>
          </form>
        </div>
      <% }) %>
    </div>
  </div>
  
  <script>
    // JavaScript to handle collapsible buttons
    document.addEventListener('DOMContentLoaded', function () {
      const collapsibles = document.querySelectorAll('.collapsible');
      
      collapsibles.forEach(button => {
        button.addEventListener('click', function () {
          this.classList.toggle('active');
          const content = this.nextElementSibling;
          
          if (content.style.maxHeight) {
            content.style.maxHeight = null;
          } else {
            content.style.maxHeight = content.scrollHeight + 'px';
          }
  
          // Fetch content dynamically if it hasn't been loaded yet
          if (content.dataset.url && !content.innerHTML.trim()) {
            fetch(content.dataset.url)
              .then(response => response.text())
              .then(html => {
                content.innerHTML = html;
              })
              .catch(error => console.error('Error loading content:', error));
          }
        });
      });
    });
  </script>
  